<tr class="compatibility-row <%= highlight ? "active" : "inactive" %>">
  <% if first_row %>
      <th rowspan="<%= all_licences.length+1 %>" class="row-label">Original Work</th>
  <% end %>
  <td class="original-work">
    <%= licence.identifier %>:
  </td>
  <td class="compatibility-data">
    <%= wrapped_cells(all_licences.map do |licence_j|
      incompatibility_reasons = {}
      content_tag :td, licence_j.identifier,
                  class: "has-tip " + (licence.compatibility.compatible_with?(licence_j, false, incompatibility_reasons) ? "compatible" : "incompatible"),
                  title: incompatibility_reasons_tooltip(licence_j, incompatibility_reasons)
    end)
    %>
  </td>
</tr>